---
layout: default
title: Home Network Diagram (Interactive Viewer)
---

<h1>Home Network &amp; Lab Architecture Diagram (Interactive Viewer)</h1>
<p>Use the controls below to zoom in and out. Scroll inside the viewer to pan around the diagram.</p>

<div class="diagram-viewer">
  <div class="diagram-controls">
    <button type="button" id="diag-zoom-in">Zoom In</button>
    <button type="button" id="diag-zoom-out">Zoom Out</button>
    <button type="button" id="diag-reset">Reset</button>
  </div>

  <div id="diagram-container">
    <img
      id="diagram-image"
      class="diagram-viewer-img"
      src="./images/network/home-network-lab-overview.png"
      alt="Home Network & Lab Architecture Diagram"
    />
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const container = document.getElementById('diagram-container');
    const img       = document.getElementById('diagram-image');
    const zoomInBtn = document.getElementById('diag-zoom-in');
    const zoomOutBtn= document.getElementById('diag-zoom-out');
    const resetBtn  = document.getElementById('diag-reset');

    let baseWidth = 0;     // fitted width in pixels
    let scale     = 1;     // relative zoom (1 = baseWidth)
    const MAX_SCALE = 8;   // up to 800%

    function applyScale() {
      if (!baseWidth) return;
      const newWidth = baseWidth * scale;
      img.style.width = newWidth + 'px';
    }

    function fitToWidth() {
      const nw = img.naturalWidth;
      const vh = container.clientHeight;
      const vw = container.clientWidth;

      if (!nw || !vw) return;

      // Fit to container width, but never exceed natural width
      const fitScale = Math.min(vw / nw, 1);

      baseWidth = nw * fitScale;
      scale = 1;
      img.style.width = baseWidth + 'px';

      container.scrollLeft = 0;
      container.scrollTop = 0;
    }

    function init() {
      fitToWidth();
    }

    if (img.complete && img.naturalWidth) {
      init();
    } else {
      img.addEventListener('load', function handleLoad() {
        img.removeEventListener('load', handleLoad);
        init();
      });
    }

    zoomInBtn.addEventListener('click', function () {
      const newScale = Math.min(scale * 1.2, MAX_SCALE);
      if (newScale !== scale) {
        scale = newScale;
        applyScale();
      }
    });

    zoomOutBtn.addEventListener('click', function () {
      const newScale = Math.max(scale / 1.2, 1);
      if (newScale !== scale) {
        scale = newScale;
        applyScale();
      }
    });

    resetBtn.addEventListener('click', function () {
      fitToWidth();
    });
  });
</script>